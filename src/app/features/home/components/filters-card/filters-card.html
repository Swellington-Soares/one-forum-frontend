<mat-accordion>
    <mat-expansion-panel [expanded]="!isHandheld()">
        <mat-expansion-panel-header>
            <mat-icon>filter_alt</mat-icon>
            <span>Filtros</span>
        </mat-expansion-panel-header>
            <div class="filter-title">
                <mat-icon>sell</mat-icon>
                <span>Categorias</span>
            </div>
            <ul class="filter-list">
                <li>
                    @if (this.statusFlag() === statusFlagEnumm.OK) {
                        <mat-chip-listbox class="mat-mdc-chip-set-stacked">
                        @for (category of this.allCategories(); track category.id) {
                                <mat-chip-option 
                                    [attr.data-category-id]="category.id"
                                    #categoryOpt 
                                    (selectionChange)="selectFilter($event, category.id)"
                                >
                                    <span>{{category.name}}</span>
                                    <span matChipTrailingIcon>{{category.topicCount}}</span>
                                </mat-chip-option>
                            }
                        </mat-chip-listbox>
                    }
                    @else {
                        <div class="status-message-container">
                            @if (this.statusFlag() === statusFlagEnumm.LOADING) {
                                <mat-spinner></mat-spinner>
                                <span>Buscando filtros</span>
                            }
                            @else {
                                <mat-icon>
                                    web_asset_off
                                </mat-icon>
                                <span>Não foi possível recuperar filtros</span>
                            }
                        </div>
                    }
                </li>
            </ul>
    </mat-expansion-panel>
</mat-accordion>